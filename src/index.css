@tailwind base;
@tailwind components;
@tailwind utilities;

/* CONFIGURACIÓN BÁSICA Y ALTO REAL EN MÓVILES */
:root {
    min-height: 100dvh;
    height: 100dvh;
}

html {
    height: 100dvh;
    background-color: #f1f5f9;
    /* Evita el "rebote" elástico en Mac/iOS que a veces muestra capas de fondo */
    overscroll-behavior: none;
}

body {
    margin: 0;
    min-height: 100dvh;
    padding-bottom: env(safe-area-inset-bottom);
    background-color: #f1f5f9;
    /* Mejora el renderizado de fuentes */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* 
   SOLUCIÓN AL PROBLEMA VISUAL DEL SIDEBAR:
   'isolation: isolate' crea un nuevo contexto de apilamiento.
   Esto impide que elementos hijos (como el sidebar) "filtren" 
   sus capas o sombras hacia el fondo general de la ventana.
*/
#root {
    height: 100dvh;
    display: flex;
    flex-direction: column;
    isolation: isolate;
}

/* COMPORTAMIENTO DE INPUTS */
input,
textarea {
    -webkit-user-select: text;
    user-select: text;
}

/* OCULTAR SCROLLBARS (Tu preferencia visual) */
::-webkit-scrollbar {
    display: none;
}

* {
    -ms-overflow-style: none;
    scrollbar-width: none;
}

/* 
   SOLUCIÓN AL PROBLEMA DEL BOTÓN EN CELULAR Y PARPADEOS:
   En lugar de usar '*' (que rompe la PC), lo aplicamos solo a
   elementos interactivos y contenedores mayores.
*/

/* 1. Asegura que los botones reaccionen rápido en táctil */
button,
input,
select,
textarea,
a {
    touch-action: manipulation;
}

/* 2. Previene parpadeos blancos en animaciones, pero de forma segura */
body,
#root,
main,
nav,
aside,
.modal-content {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    /* Fuerza aceleración de hardware sin romper el layout */
    transform: translateZ(0);
}

/* CLASES DE UTILIDAD PARA ANIMACIONES */
.animate-in {
    animation-fill-mode: forwards;
}

/* Opcional: Para asegurar que imágenes dentro de botones no interfieran con el click */
button>* {
    pointer-events: none;
}